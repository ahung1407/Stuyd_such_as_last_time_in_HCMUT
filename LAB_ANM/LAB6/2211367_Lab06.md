
# BÀI THỰC HÀNH SỐ 6

| Thông tin | Chi tiết |
|-----------|----------|
| **Môn** | Mật Mã & An Ninh Mạng |
| **Họ tên** | Nguyễn Minh Hưng |
| **MSSV** | 2211367 |
| **Nhóm** | L02 |

---

# NỘI DUNG THỰC HIỆN

## 1. An ninh hệ thống E-mail cá nhân

### a. Cài đặt Mozilla Thunderbird

**Các bước cài đặt Thunderbird:**

![alt text](image.png)

![alt text](image-1.png)

### b. Đăng ký tài khoản thư điện tử vào Thunderbird

**Các bước đăng ký tài khoản email:**

![alt text](image-2.png)

![alt text](image-3.png)
### c. Tạo cặp khóa từ OpenPGP Key Manager

Từ **Tools → OpenPGP Key Manager**, cửa sổ hiện ra:

![alt text](image-4.png)

Chọn **Generate → New Key Pair**, cửa sổ hiện ra:

![alt text](image-5.png)

![alt text](image-6.png)

### d. Tạo thư và gửi đính kèm khóa công khai

Nhấp vào **Write** để tạo bức thư gửi đến người bên cạnh có đính kèm khóa công khai (**Attach → Attach My Public Key**).

![alt text](image-7.png)

### e. Thêm khóa công khai của người dùng khác

Mở thư có chứa khóa công khai từ người bên cạnh. Các bước tiếp theo:

![alt text](image-8.png)

![alt text](image-9.png)
### f. Tạo thư, mã hóa và gửi đi

**Các bước thực hiện:**

![alt text](image-10.png)

![alt text](image-11.png)
### g. Nhận thư, giải mã, đọc thư

Mở trình duyệt và đọc thư, nội dung thể hiện:

![alt text](image-12.png)

![alt text](image-13.png)

**Nhận xét:** Trên Webmail không có Private Key nên không thể giải mã, chỉ thấy chuỗi mã hóa PGP. Điều này đảm bảo tính bảo mật dữ liệu ngay cả khi server mail bị lộ.

### h. Tạo thư, tạo chữ ký số, mã hóa và gửi đi

**Các bước thực hiện:**

![alt text](image-14.png)

### i. Nhận thư, giải mã, xác minh chữ ký số, đọc thư

**Các bước thực hiện:**

![alt text](image-15.png)

![alt text](image-17.png)

Mở trình duyệt và đọc thư, nội dung thể hiện:

![alt text](image-16.png)

---

## 2. An ninh hệ thống Web

### a. Cài đặt và cấu hình Apache Web Server

**Các bước cài đặt và cấu hình:**

![alt text](image-18.png)

![alt text](image-19.png)

![alt text](image-20.png)


### b. Tạo chứng chỉ SSL tự ký bằng OpenSSL

![alt text](image-21.png)

**Mô tả các bước:**
- Sử dụng lệnh `mkdir` để tạo thư mục lưu trữ khóa bảo mật tại `/etc/httpd/ssl`
- Sử dụng công cụ OpenSSL với tham số `-x509` để tạo chứng chỉ tự ký (Self-signed)
- Lệnh tạo ra 2 file quan trọng:
  - `apache-selfsigned.key` (Private Key)
  - `apache-selfsigned.crt` (Public Certificate)
- Thiết lập thời hạn cho chứng chỉ là 365 ngày và độ dài khóa RSA là 2048 bit
### c. Cài đặt Apache Web Server với chứng chỉ SSL đã tạo

**Các bước cài đặt:**
- Chỉnh sửa file cấu hình `/etc/httpd/conf.d/ssl.conf`
- Cập nhật đường dẫn `SSLCertificateFile` trỏ đến file `.crt` vừa tạo
- Cập nhật đường dẫn `SSLCertificateKeyFile` trỏ đến file `.key` vừa tạo
- Khởi động lại dịch vụ httpd: `systemctl restart httpd` để áp dụng cấu hình HTTPS

**Kết quả:** Truy cập được `https://localhost` (trình duyệt cảnh báo do chứng chỉ tự ký không được xác thực bởi CA quốc tế, nhưng mã hóa vẫn hoạt động).

![alt text](image-22.png)

![alt text](image-23.png)

### d. Khác biệt các loại chứng chỉ SSL (DV, OV, EV)

| Loại | Tên | Mô tả | Thời gian cấp | Giá | Phù hợp cho |
|------|-----|-------|---------------|-----|-------------|
| **DV** | Domain Validation | Xác thực tên miền. Nhà cung cấp kiểm tra quyền sở hữu tên miền (qua email/DNS). Mức độ tin cậy cơ bản. | Phút | Rẻ | Web cá nhân, blog |
| **OV** | Organization Validation | Xác thực tổ chức. Ngoài tên miền, xác minh sự tồn tại doanh nghiệp (giấy phép kinh doanh). Hiển thị tên tổ chức trong chi tiết. | Vài ngày | Trung bình | Web doanh nghiệp vừa và nhỏ |
| **EV** | Extended Validation | Xác thực mở rộng. Quy trình thẩm định nghiêm ngặt về pháp lý và hoạt động thực tế. Độ tin cậy cao nhất. | Tuần | Cao | Ngân hàng, sàn TMĐT lớn |
### e. Tạo và duy trì chứng chỉ SSL miễn phí từ Let's Encrypt

**Cách tạo:**
- Sử dụng giao thức ACME thông qua công cụ tự động hóa **Certbot**
- Cài đặt Certbot: `yum install certbot python-certbot-apache`
- Chạy lệnh: `certbot --apache`
- Nhập email và chọn tên miền, Certbot sẽ tự động xin chứng chỉ và cấu hình Apache

**Cách duy trì:**
- Chứng chỉ Let's Encrypt chỉ có hạn 90 ngày
- Thiết lập **Cronjob** (lịch tự động) chạy lệnh `certbot renew` định kỳ (thường là 2 lần/ngày)
- Hệ thống sẽ tự động gia hạn khi chứng chỉ sắp hết hạn mà không cần can thiệp thủ công
